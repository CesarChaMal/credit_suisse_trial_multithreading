define(["thirdparty/vendor/jquery","console"],function($,Console){var Videoblock=function(){var $modules=$(".videoblock:not(.processed)");Console.log("Videoblock(): found ",$modules.length," unprocessed .videoblock elements.");for(var i=0,j=$modules.length;i<j;i++){Console.log("Videoblock() loop: Processing element: ",$modules.get(i));var videoblockModule=new VideoblockModule($modules.get(i));Console.log("Videoblock() loop: --- New module: ",videoblockModule),$($modules.get(i)).addClass("processed")}},VideoblockModule=function(el){this.el=el,this.init()};return VideoblockModule.prototype={init:function(){this.container=this.el.querySelector(".videoblock__content"),this.iframe=this.el.querySelector("iframe"),this.button=document.createElement("button"),this.button.innerHTML="<span>Play</span>",this.button.setAttribute("class","videoblock__button"),this.button.setAttribute("type","button"),this.button.addEventListener("click",this.click.bind(this)),this.cover=document.createElement("div"),this.cover.setAttribute("class","videoblock__cover"),this.container.appendChild(this.cover),this.container.appendChild(this.button)},click:function(event){event.preventDefault(),this.container.removeChild(this.button),this.container.removeChild(this.cover),this.iframe.setAttribute("src",this.iframe.getAttribute("src")+"?autoplay=1")}},Videoblock});